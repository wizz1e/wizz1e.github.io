{% extends 'partials/base.html' %}
{% block bodyclass %}{{ super() }}class="post"{% endblock bodyclass %}

{% block title %}
  {{ super() }}

  {% if meta.title == '' %}
    {{ post.published_at|date }} &middot; {{ site.title }}
  {% else %}
    {{ meta.title }} &middot; {{ site.title }}
  {% endif %}
{% endblock title %}

{% block postmeta %}
  {{ super() }}

  {% if post.images %}
  <meta name="twitter:image" content="{{ post.images[0].url }}">
  <meta property="og:image" content="{{ post.images[0].url }}" />
  {% endif %}

  <meta property="twitter:card" content="summary">
  <meta property="twitter:title" content="{{ meta.title }}">
  <meta property="twitter:description" content="{{ meta.description }}">
  <meta property="twitter:domain" content="{{ site.url }}">

  <meta property="og:title" content="{{ meta.title }}">
  <meta property="og:description" content="{{ meta.description }}">
  <meta property="og:site_name" content="{{ site.title }}">
  <meta property="og:url" content="{{ post.url|absolute_url }}" />
  <meta property="og:type" content="article">

  <meta name="author" content="{{ post.authors|authors }}">
{% endblock postmeta %}

{% block content %}
  {{ super() }}

  <article class="article">
    {% if post.title %}
      {% if post.linked_url %}        
        <h1 class="article-title-linked">
          <a href="{{ post.linked_url }}">{{ post.title }}</a>
          <span class="link-char"><i class="fa fa-long-arrow-right"></i></span>
        </h1>
      {% else %}
        <h1 class="article-title">{{ post.title }}</h1>
      {% endif %}
    {% endif %}

    <span class="article-meta">
      <time datetime="{{ post.published_at|date(isoformat=True) }}"> {{ post.published_at|date(format='%-d %b %Y') }}</time>
      &nbsp; {{ post.tags|tags(separator=', #', last_separator=' & #', prefix=' #', suffix='') }}
    </span>
    
    <div class="article-content">
      {{ post.content }}
    </div>

    {{ site.code_post }}

    <div class="authors">
      {% for author in post.authors %}
      <div class="author">
        <img src="{{ author.avatar }}" alt="{{ author.name }}">
        {{ author.name }}
        {{ author.bio }}
        <div class="social-icons">
          {% if theme.variables.twitter_username %}
            <a href="http://twitter.com/{{ theme.variables.twitter_username }}"><i class="fa fa-twitter fa-lg"></i></a>
          {% endif %}
          {% if theme.variables.facebook_url %}
              <a href="{{ theme.variables.facebook_url }}"><i class="fa fa-facebook-official fa-lg"></i></a>  
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  </article>
{% endblock content %}

{% block pagejs %}
  {{ super() }}
  <!--
     Anything you put in here will only be loaded
     for this page.
  -->
{% endblock pagejs %}
