!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.fluidvids=t()}(this,function(){"use strict";function e(e){return new RegExp("^(https?:)?//(?:"+o.players.join("|")+").*$","i").test(e)}function t(e,t){return parseInt(e,10)/parseInt(t,10)*100+"%"}function i(i){if((e(i.src)||e(i.data))&&!i.getAttribute("data-fluidvids")){var n=document.createElement("div");i.parentNode.insertBefore(n,i),i.className+=(i.className?" ":"")+"fluidvids-item",i.setAttribute("data-fluidvids","loaded"),n.className+="fluidvids",n.style.paddingTop=t(i.height,i.width),n.appendChild(i)}}function n(){var e=document.createElement("div");e.innerHTML="<p>x</p><style>"+r+"</style>",a.appendChild(e.childNodes[1])}var o={selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com"]},r=[".fluidvids {","width: 100%; max-width: 100%; position: relative;","}",".fluidvids-item {","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;","}"].join(""),a=document.head||document.getElementsByTagName("head")[0];return o.render=function(){for(var e=document.querySelectorAll(o.selector.join()),t=e.length;t--;)i(e[t])},o.init=function(e){for(var t in e)o[t]=e[t];o.render(),n()},o}),function(){var e=document.querySelectorAll("article img");Array.prototype.forEach.call(e,function(e){var t=e.getAttribute("alt");t&&e.insertAdjacentHTML("afterend","<figcaption><p>"+t+"</p></figcaption>")}),fluidvids.init({selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com"]})}.call(this);